<html lang="en">
<head>
  <title>Matrix of Mutation - demo</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

  <link rel="stylesheet" type="text/css" href="../layout/paplot.css"/>
</head>
<body>
<div class="version">
Generated on 2016-08-03 15:05:37 for demo by paplot-0.4.0release-py2.7.
</div>

<div class="container">
  <h2 id="title">Matrix of Mutation - demo</h2>

<div>
  <div style="margin-top:20;">
    <b>axis-X sort-by</b><input type="button" value="reset" onclick="sort_reset('x')" style="margin-left:20" />
  </div>
  <div style="margin-left:20;">
    <div id="sort_x_text" class="selected_text">sample_ID(ASC)</div>
    <div style="height: 10px;" class="spacer"></div>
    <section><b>Sample ID</b>
      <input type="radio" name="ID" value="0" id="xID_0" onclick="sort('sample_ID', 0, 'x')" />        <label for="xID_0" class="radio">none</label>
      <input type="radio" name="ID" value="1" id="xID_1" onclick="sort('sample_ID', 1, 'x')" checked /><label for="xID_1" class="radio">ASC </label>
      <input type="radio" name="ID" value="2" id="xID_2" onclick="sort('sample_ID', 2, 'x')" />        <label for="xID_2" class="radio">DESC</label>
    </section>
    <section><b>Mutation num.</b>
      <input type="radio" name="mutation_num" value="0" id="xNum_0" onclick="sort('number_of_mutations', 0, 'x')" checked /><label for="xNum_0" class="radio">none</label>
      <input type="radio" name="mutation_num" value="1" id="xNum_1" onclick="sort('number_of_mutations', 1, 'x')" />        <label for="xNum_1" class="radio">ASC </label>
      <input type="radio" name="mutation_num" value="2" id="xNum_2" onclick="sort('number_of_mutations', 2, 'x')" />        <label for="xNum_2" class="radio">DESC</label>
    </section>
    <section><b>Genes</b>
      <input type="radio" name="gene" value="0" id="xGene_0" checked /><label for="xGene_0" class="radio">none</label>
      <input type="radio" name="gene" value="1" id="xGene_1" />        <label for="xGene_1" class="radio">ASC </label>
      <input type="radio" name="gene" value="2" id="xGene_2" />        <label for="xGene_2" class="radio">DESC&nbsp;&nbsp;&nbsp;</label>
      select gene name.&nbsp;
      <select id="gene_list"></select>
      <input type="button" value="add sort key" onclick="sort_gene()" style="margin-left:10" />
    </section>
    <section><b>automatic Gantt-chart</b>
      use genes top <input type="number" id="waterfall_number" name="waterfall_number" min="1" step="1" value="30" style="width:80px;" /><input type="button" value="Gantt-chart" onclick="sort_waterfall()" style="margin-left:10" />
    </section>
  </div>

  <div style="margin-top:20;">
    <b>axis-Y sort-by</b><input type="button" value="reset" onclick="sort_reset('y')" style="margin-left:20" />
  </div>
  <div style="margin-left:20;">
    <div id="sort_y_text" class="selected_text">number_of_mutations(DESC)</div>
    <div style="height: 10px;" class="spacer"></div>
    <section><b>Mutation num.</b>
      <input type="radio" name="mutation_sum" value="0" id="yNum_0" onclick="sort('number_of_mutations', 0, 'y')" />        <label for="yNum_0" class="radio">none</label>
      <input type="radio" name="mutation_sum" value="1" id="yNum_1" onclick="sort('number_of_mutations', 1, 'y')" />        <label for="yNum_1" class="radio">ASC </label>
      <input type="radio" name="mutation_sum" value="2" id="yNum_2" onclick="sort('number_of_mutations', 2, 'y')" checked /><label for="yNum_2" class="radio">DESC</label>
    </section>
    <section><b>Gene name</b>
      <input type="radio" name="gene_name" value="0" id="yGene_0" onclick="sort('name', 0, 'y')" checked /><label for="yGene_0" class="radio">none</label>
      <input type="radio" name="gene_name" value="1" id="yGene_1" onclick="sort('name', 1, 'y')"  />       <label for="yGene_1" class="radio">ASC </label>
      <input type="radio" name="gene_name" value="2" id="yGene_2" onclick="sort('name', 2, 'y')" />        <label for="yGene_2" class="radio">DESC</label>
    </section>
  </div>

  <div style="margin-top:20;"><b>sample filter</b></div>
  <div style="margin-left:20;">
    <div style="height: 10px;" class="spacer"></div>
    <section><b>Display maximum</b>
      <input type="number" id="viewsample_mutation_max" name="viewgene_rate" min="0" step="1" value="" style="width:100px;" /> (Number of mutation)
    </section>
    <input type="button" value="update filter" onclick="filter_sample()" style="margin-top:10" />
  </div>
  
  <div style="margin-top:20;"><b>genes filter</b></div>
  <div style="margin-left:20;">
    <div>
      The number of total genes detected mutations: <div id="filter_all_text" class="selected_text"></div>, <br>
      The number of filtered genes: <div id="filter_text" class="selected_text"></div>
    </div>
    <div style="height: 10px;" class="spacer"></div>
    <section><b>Rate</b>
      <input type="number" id="viewgene_rate" name="viewgene_rate" min="0" max="100" step="1" value="0" style="width:50px;" /> % (Samples with mutation)
    </section>
    <section><b>Display maximum</b>
      <input type="number" id="viewgene_number" name="viewgene_number" min="1" step="1" value="100" style="width:100px;" /> genes
    </section>
    <input type="button" value="update filter" onclick="filter_gene()" style="margin-top:10" />
  </div>
</div>

<div style="height: 50px;" class="spacer"></div>

<table>
<tr>
<td><div  id="div_mut1"></div></td>
<td><!-- bar top --><div id="div_bar_top"></div></td>
<td style="vertical-align:top;"><div id="div_mut2"><!-- save image --><button type="button" onclick="push_export()" id="dw_btn" style="margin-left: 20px; margin-top: 30px;"><img src="../layout/download.png" style="margin-right: 5px;">export</button><div id="btn"></div></div></td>
</tr>


<!-- sub bar -->
<tr>
<td><div id="div_sub0_t" class="subplot_title"><b>Clinical Gender</b>
      <section>
        <input type="radio" name="optSub0" value="0" id="xSub0_0" onclick="sort_sub(0, 0)" checked /><label for="xSub0_0" class="radio">none</label>
        <input type="radio" name="optSub0" value="1" id="xSub0_1" onclick="sort_sub(0, 1)" />        <label for="xSub0_1" class="radio">ASC </label>
        <input type="radio" name="optSub0" value="2" id="xSub0_2" onclick="sort_sub(0, 2)" />        <label for="xSub0_2" class="radio">DESC</label>
      </section>
</div></td>
<td><div id="div_sub0_p"></div></td>
<td><div style="overflow: auto;" id="div_sub0_l_svg"></div></td>
</tr>


<!-- spacer -->
<tr height=10><td></td><td></td><td></td></tr>

<tr>
<td valign="top"><!-- bar left --><div id="div_bar_left"></div></td>
<td valign="top"><!-- checker --><div id="div_checker"></div></td>
<td valign="top"><!-- legend --><div id='legend_html'></div><div id='legend_svg'></div></td>
</tr>


<!-- sub bar -->
<tr>
<td><div id="div_sub1_t" class="subplot_title"><b>Clinical Age</b>
      <section>
        <input type="radio" name="optSub1" value="0" id="xSub1_0" onclick="sort_sub(1, 0)" checked /><label for="xSub1_0" class="radio">none</label>
        <input type="radio" name="optSub1" value="1" id="xSub1_1" onclick="sort_sub(1, 1)" />        <label for="xSub1_1" class="radio">ASC </label>
        <input type="radio" name="optSub1" value="2" id="xSub1_2" onclick="sort_sub(1, 2)" />        <label for="xSub1_2" class="radio">DESC</label>
      </section>
</div></td>
<td><div id="div_sub1_p"></div></td>
<td><div style="overflow: auto;" id="div_sub1_l_svg"></div></td>
</tr>

<!-- sub bar -->
<tr>
<td><div id="div_sub2_t" class="subplot_title"><b>Clinical BMI</b>
      <section>
        <input type="radio" name="optSub2" value="0" id="xSub2_0" onclick="sort_sub(2, 0)" checked /><label for="xSub2_0" class="radio">none</label>
        <input type="radio" name="optSub2" value="1" id="xSub2_1" onclick="sort_sub(2, 1)" />        <label for="xSub2_1" class="radio">ASC </label>
        <input type="radio" name="optSub2" value="2" id="xSub2_2" onclick="sort_sub(2, 2)" />        <label for="xSub2_2" class="radio">DESC</label>
      </section>
</div></td>
<td><div id="div_sub2_p"></div></td>
<td><div style="overflow: auto;" id="div_sub2_l_svg"></div></td>
</tr>


</table>

<div style="float: left; width: 100px; height: 100px;" class="spacer"></div>
</div>

<!-- ### tooltip ### -->
<div id="tooltip" class="hidden"></div>
<!-- ### spin mark ### -->
<div id="spin" class="hidden"></div>
<!-- canvas for save image -->
<canvas id="dw_canvas" class="hidden"></canvas>

<script type="text/javascript" src="../lib/d3_v3.5.13/d3.min.js"></script>
<script type="text/javascript" src="../lib/d3-legend_v1.10.0/d3-legend.min.js"></script>
<script type="text/javascript" src="../style/default.js"></script>
<script type="text/javascript" src="../js/utils.js"></script>
<script type="text/javascript" src="../js/bar.js"></script>
<script type="text/javascript" src="../js/checker.js"></script>
<script type="text/javascript" src="data_mut.js"></script>
<script type="text/javascript" src="../js/graph_mut.js"></script>

<script type="text/javascript">
    var subs = [];
    

    subs.push(add_subdiv("div_sub0", "sub0", 1));
    subs.push(add_subdiv("div_sub1", "sub1", 2));
    subs.push(add_subdiv("div_sub2", "sub2", 2));
    
    init();
    

    subs[0].bar_selected = function(key, on) {
        sub_selected(key, on);
    }
    subs[1].bar_selected = function(key, on) {
        sub_selected(key, on);
    }
    subs[2].bar_selected = function(key, on) {
        sub_selected(key, on);
    }
</script>
</body>
</html>
