<html lang="en">
<head>
  <title>Matrix of Mutation - demo</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

  <link rel="stylesheet" type="text/css" href="../js/paplot.css"/>
</head>
<body>
<div class="version">
Generated on 2016-06-23 15:21:41 for demo by paplot-0.3.0release-py2.7.
</div>

<div class="container">
  <h2 id="title">Matrix of Mutation - demo</h2>

<div>
  <div style="margin-top:20;">
    <b>axis-X sort-by</b><input type="button" value="reset" onclick="sort_reset('x')" style="margin-left:20" />
  </div>
  <div style="margin-left:20;">
    <div id="sort_x_text" class="selected_text">sample_ID(ASC)</div>
    <div style="height: 10px;" class="spacer"></div>
    <section><b>Sample ID</b>
      <input type="radio" name="ID" value="0" id="xID_0" onclick="sort('sample_ID', 0, 'x')" />        <label for="xID_0" class="radio">none</label>
      <input type="radio" name="ID" value="1" id="xID_1" onclick="sort('sample_ID', 1, 'x')" checked /><label for="xID_1" class="radio">ASC </label>
      <input type="radio" name="ID" value="2" id="xID_2" onclick="sort('sample_ID', 2, 'x')" />        <label for="xID_2" class="radio">DESC</label>
    </section>
    <section><b>Mutation num.</b>
      <input type="radio" name="mutation_num" value="0" id="xNum_0" onclick="sort('number_of_mutations', 0, 'x')" checked /><label for="xNum_0" class="radio">none</label>
      <input type="radio" name="mutation_num" value="1" id="xNum_1" onclick="sort('number_of_mutations', 1, 'x')" />        <label for="xNum_1" class="radio">ASC </label>
      <input type="radio" name="mutation_num" value="2" id="xNum_2" onclick="sort('number_of_mutations', 2, 'x')" />        <label for="xNum_2" class="radio">DESC</label>
    </section>
    <section><b>Genes</b>
      <input type="radio" name="gene" value="0" id="xGene_0" checked /><label for="xGene_0" class="radio">none</label>
      <input type="radio" name="gene" value="1" id="xGene_1" />        <label for="xGene_1" class="radio">ASC </label>
      <input type="radio" name="gene" value="2" id="xGene_2" />        <label for="xGene_2" class="radio">DESC&nbsp;&nbsp;&nbsp;</label>
      select gene name.&nbsp;
      <select id="gene_list"></select>
      <input type="button" value="add sort key" onclick="sort_gene()" style="margin-left:10" />
    </section>
    <section><b>automatic Gantt-chart</b>
      use genes top <input type="number" id="waterfall_number" name="waterfall_number" min="1" step="1" value="30" style="width:80px;" /><input type="button" value="Gantt-chart" onclick="sort_waterfall()" style="margin-left:10" />
    </section>
  </div>

  <div style="margin-top:20;">
    <b>axis-Y sort-by</b><input type="button" value="reset" onclick="sort_reset('y')" style="margin-left:20" />
  </div>
  <div style="margin-left:20;">
    <div id="sort_y_text" class="selected_text">number_of_mutations(DESC)</div>
    <div style="height: 10px;" class="spacer"></div>
    <section><b>Mutation num.</b>
      <input type="radio" name="mutation_sum" value="0" id="yNum_0" onclick="sort('number_of_mutations', 0, 'y')" />        <label for="yNum_0" class="radio">none</label>
      <input type="radio" name="mutation_sum" value="1" id="yNum_1" onclick="sort('number_of_mutations', 1, 'y')" />        <label for="yNum_1" class="radio">ASC </label>
      <input type="radio" name="mutation_sum" value="2" id="yNum_2" onclick="sort('number_of_mutations', 2, 'y')" checked /><label for="yNum_2" class="radio">DESC</label>
    </section>
    <section><b>Gene name</b>
      <input type="radio" name="gene_name" value="0" id="yGene_0" onclick="sort('name', 0, 'y')" checked /><label for="yGene_0" class="radio">none</label>
      <input type="radio" name="gene_name" value="1" id="yGene_1" onclick="sort('name', 1, 'y')"  />       <label for="yGene_1" class="radio">ASC </label>
      <input type="radio" name="gene_name" value="2" id="yGene_2" onclick="sort('name', 2, 'y')" />        <label for="yGene_2" class="radio">DESC</label>
    </section>
  </div>

  <div style="margin-top:20;"><b>sample filter</b></div>
  <div style="margin-left:20;">
    <div style="height: 10px;" class="spacer"></div>
    <section><b>Display maximum</b>
      <input type="number" id="viewsample_mutation_max" name="viewgene_rate" min="0" step="1" value="" style="width:100px;" /> (Number of mutation)
    </section>
    <input type="button" value="update filter" onclick="filter_sample()" style="margin-top:10" />
  </div>
  
  <div style="margin-top:20;"><b>genes filter</b></div>
  <div style="margin-left:20;">
    <div>
      The number of total genes detected mutations: <div id="filter_all_text" class="selected_text"></div>, <br>
      The number of filtered genes: <div id="filter_text" class="selected_text"></div>
    </div>
    <div style="height: 10px;" class="spacer"></div>
    <section><b>Rate</b>
      <input type="number" id="viewgene_rate" name="viewgene_rate" min="0" max="100" step="1" value="0" style="width:50px;" /> % (Samples with mutation)
    </section>
    <section><b>Display maximum</b>
      <input type="number" id="viewgene_number" name="viewgene_number" min="1" step="1" value="100" style="width:100px;" /> genes
    </section>
    <input type="button" value="update filter" onclick="filter_gene()" style="margin-top:10" />
  </div>
</div>

<div style="height: 50px;" class="spacer"></div>

<table>
<tr>
<td><div  id="div_mut1"></div></td>
<td><!-- bar top --><div id="div_bar_top"></div></td>
<td><div style="padding:10px;" id="div_mut2"></div></td>
</tr>


<!-- sub bar -->
<tr>
<td><div id="div_sub0_t"><b>Clinical Gender</b>
      <section>
        <input type="radio" name="optSub0" value="0" id="xSub0_0" onclick="sort_sub(0, 0)" checked /><label for="xSub0_0" class="radio">none</label>
        <input type="radio" name="optSub0" value="1" id="xSub0_1" onclick="sort_sub(0, 1)" />        <label for="xSub0_1" class="radio">ASC </label>
        <input type="radio" name="optSub0" value="2" id="xSub0_2" onclick="sort_sub(0, 2)" />        <label for="xSub0_2" class="radio">DESC</label>
      </section>
</div></td>
<td><div id="div_sub0_p"></div></td>
<td><div style="overflow: auto;" id="div_sub0_l">
    
    <div class="legend"><div id="sub0_legend0" class="legend legend_bar"></div><div id="sub0_legend0_text" class="legend legend_label"></div></div>
    <div class="legend"><div id="sub0_legend1" class="legend legend_bar"></div><div id="sub0_legend1_text" class="legend legend_label"></div></div>    
</div></td>
</tr>


<!-- spacer -->
<tr height=10><td></td><td></td><td></td></tr>

<tr>
<td><!-- bar left --><div id="div_bar_left"></div></td>
<td><!-- checker --><div id="div_checker"></div></td>
<td><div style="padding-top:10px; padding-left:30px; overflow: auto;" id="div_mut3">
<div id="legend_title"></div>

    <div><input type="checkbox" id="v0" onclick="change_stack('v0', 'UTR3')" checked><div id="legend0" class="legend legend_bar"></div><div id="legend0_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v1" onclick="change_stack('v1', 'UTR5')" checked><div id="legend1" class="legend legend_bar"></div><div id="legend1_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v2" onclick="change_stack('v2', 'downstream')" checked><div id="legend2" class="legend legend_bar"></div><div id="legend2_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v3" onclick="change_stack('v3', 'exonic')" checked><div id="legend3" class="legend legend_bar"></div><div id="legend3_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v4" onclick="change_stack('v4', 'intergenic')" checked><div id="legend4" class="legend legend_bar"></div><div id="legend4_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v5" onclick="change_stack('v5', 'intronic')" checked><div id="legend5" class="legend legend_bar"></div><div id="legend5_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v6" onclick="change_stack('v6', 'ncRNA_exonic')" checked><div id="legend6" class="legend legend_bar"></div><div id="legend6_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v7" onclick="change_stack('v7', 'ncRNA_intronic')" checked><div id="legend7" class="legend legend_bar"></div><div id="legend7_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v8" onclick="change_stack('v8', 'ncRNA_splicing')" checked><div id="legend8" class="legend legend_bar"></div><div id="legend8_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v9" onclick="change_stack('v9', 'splicing')" checked><div id="legend9" class="legend legend_bar"></div><div id="legend9_text" class="legend legend_label"></div></div>
    <div><input type="checkbox" id="v10" onclick="change_stack('v10', 'upstream')" checked><div id="legend10" class="legend legend_bar"></div><div id="legend10_text" class="legend legend_label"></div></div>
</div></td>
</tr>


<!-- sub bar -->
<tr>
<td><div id="div_sub1_t"><b>Clinical Age</b>
      <section>
        <input type="radio" name="optSub1" value="0" id="xSub1_0" onclick="sort_sub(1, 0)" checked /><label for="xSub1_0" class="radio">none</label>
        <input type="radio" name="optSub1" value="1" id="xSub1_1" onclick="sort_sub(1, 1)" />        <label for="xSub1_1" class="radio">ASC </label>
        <input type="radio" name="optSub1" value="2" id="xSub1_2" onclick="sort_sub(1, 2)" />        <label for="xSub1_2" class="radio">DESC</label>
      </section>
</div></td>
<td><div id="div_sub1_p"></div></td>
<td><div style="overflow: auto;" id="div_sub1_l">
    
    <div class="legend"><div id="sub1_legend0" class="legend legend_bar"></div><div id="sub1_legend0_text" class="legend legend_label"></div></div>
    <div class="legend"><div id="sub1_legend1" class="legend legend_bar"></div><div id="sub1_legend1_text" class="legend legend_label"></div></div>
    <div class="legend"><div id="sub1_legend2" class="legend legend_bar"></div><div id="sub1_legend2_text" class="legend legend_label"></div></div>
    <div class="legend"><div id="sub1_legend3" class="legend legend_bar"></div><div id="sub1_legend3_text" class="legend legend_label"></div></div>    
</div></td>
</tr>

<!-- sub bar -->
<tr>
<td><div id="div_sub2_t"><b>Clinical BMI</b>
      <section>
        <input type="radio" name="optSub2" value="0" id="xSub2_0" onclick="sort_sub(2, 0)" checked /><label for="xSub2_0" class="radio">none</label>
        <input type="radio" name="optSub2" value="1" id="xSub2_1" onclick="sort_sub(2, 1)" />        <label for="xSub2_1" class="radio">ASC </label>
        <input type="radio" name="optSub2" value="2" id="xSub2_2" onclick="sort_sub(2, 2)" />        <label for="xSub2_2" class="radio">DESC</label>
      </section>
</div></td>
<td><div id="div_sub2_p"></div></td>
<td><div style="overflow: auto;" id="div_sub2_l">
    
    <div class="legend"><div id="sub2_legend0" class="legend legend_bar"></div><div id="sub2_legend0_text" class="legend legend_label"></div></div>
    <div class="legend"><div id="sub2_legend1" class="legend legend_bar"></div><div id="sub2_legend1_text" class="legend legend_label"></div></div>    
</div></td>
</tr>


</table>

<div style="float: left; width: 100px; height: 100px;" class="spacer"></div>
</div>

<!-- ### tooltip ### -->
<div id="tooltip" class="hidden"></div>
<!-- ### spin mark ### -->
<div id="spin" class="hidden"></div>

<script type="text/javascript" src="../lib/d3_v3.5.13/d3.min.js"></script>
<script type="text/javascript" src="../style/default.js"></script>
<script type="text/javascript" src="../js/bar.js"></script>
<script type="text/javascript" src="../js/checker.js"></script>
<script type="text/javascript" src="data_mut.js"></script>
<script type="text/javascript" src="../js/graph_mut.js"></script>

<script type="text/javascript">
    d3.select("#legend_title").style("color", "#333", "font-size", "14");
    d3.select("#legend_title").attr("id",  "text").text(style_mut.func_title);
    var subs = [];
    

    d3.select("#legend0").style("background-color", "#F39600");
    d3.select("#legend0_text").attr("id", "text").text('UTR3');
    d3.select("#legend1").style("background-color", "#E60011");
    d3.select("#legend1_text").attr("id", "text").text('UTR5');
    d3.select("#legend2").style("background-color", "#9CAEB7");
    d3.select("#legend2_text").attr("id", "text").text('downstream');
    d3.select("#legend3").style("background-color", "#E85299");
    d3.select("#legend3_text").attr("id", "text").text('exonic');
    d3.select("#legend4").style("background-color", "#00A4DB");
    d3.select("#legend4_text").attr("id", "text").text('intergenic');
    d3.select("#legend5").style("background-color", "#009943");
    d3.select("#legend5_text").attr("id", "text").text('intronic');
    d3.select("#legend6").style("background-color", "#D7C447");
    d3.select("#legend6_text").attr("id", "text").text('ncRNA_exonic');
    d3.select("#legend7").style("background-color", "#6BBB5A");
    d3.select("#legend7_text").attr("id", "text").text('ncRNA_intronic');
    d3.select("#legend8").style("background-color", "#00ADA6");
    d3.select("#legend8_text").attr("id", "text").text('ncRNA_splicing');
    d3.select("#legend9").style("background-color", "#007AC2");
    d3.select("#legend9_text").attr("id", "text").text('splicing');
    d3.select("#legend10").style("background-color", "#B6007B");
    d3.select("#legend10_text").attr("id", "text").text('upstream');

    
    d3.select("#sub0_legend0").style("background-color", "#0000ff");
    d3.select("#sub0_legend0_text").attr("id",  "text").text('Male');
    d3.select("#sub0_legend1").style("background-color", "#ff0000");
    d3.select("#sub0_legend1_text").attr("id",  "text").text('Female');
    subs.push(add_subdiv("div_sub0", "sub0"));
    
    d3.select("#sub1_legend0").style("background-color", "#E51721");
    d3.select("#sub1_legend0_text").attr("id",  "text").text('0-19');
    d3.select("#sub1_legend1").style("background-color", "#0079BA");
    d3.select("#sub1_legend1_text").attr("id",  "text").text('20-39');
    d3.select("#sub1_legend2").style("background-color", "#019A68");
    d3.select("#sub1_legend2_text").attr("id",  "text").text('40-59');
    d3.select("#sub1_legend3").style("background-color", "#522886");
    d3.select("#sub1_legend3_text").attr("id",  "text").text('60over');
    subs.push(add_subdiv("div_sub1", "sub1"));
    
    d3.select("#sub2_legend0").style("background-color", "#0000ff");
    d3.select("#sub2_legend0_text").attr("id",  "text").text('Min(15)');
    d3.select("#sub2_legend1").style("background-color", "#ff0000");
    d3.select("#sub2_legend1_text").attr("id",  "text").text('Max(40)');
    subs.push(add_subdiv("div_sub2", "sub2"));
    
    init();
    

    subs[0].bar_selected = function(key, on) {
        sub_selected(key, on);
    }
    subs[1].bar_selected = function(key, on) {
        sub_selected(key, on);
    }
    subs[2].bar_selected = function(key, on) {
        sub_selected(key, on);
    }
</script>
</body>
</html>
