(function() {
sig_data = {};

sig_data.tooltip_format = {
    signature_title:{format:[[{label:'{sig}',type:'str',keys:['sig',],ext:''},],], keys: '{sig} '},
    signature_partial:{format:[[{label:'{route}',type:'str',keys:['route',],ext:''},{label:': ',type:'fix',keys:[],ext:''},{label:'{#sum_item_value}',type:'numeric',keys:['#sum_item_value',],ext:'6.2'},],], keys: '{#sum_item_value} {route} '},
    mutation_title:{format:[[{label:'{id}',type:'str',keys:['id',],ext:''},],], keys: '{id} '},
    mutation_partial:{format:[[{label:'{sig}',type:'str',keys:['sig',],ext:''},{label:': ',type:'fix',keys:[],ext:''},{label:'{#sum_item_value}',type:'numeric',keys:['#sum_item_value',],ext:'.2'},],], keys: '{#sum_item_value} {sig} '},
};

sig_data.signatures = ['signature 1','signature 2','signature 3','signature 4','signature 5',];
sig_data.sig_colors = ['#f39700','#6cbb5a','#e60012','#00ada9','#e85298',];
sig_data.dataset_sig = [[[27409.3344,28335.2024,25682.7305,23732.2824,61134.9084,59966.7056,49853.0774,62660.4138,13313.525,36872.7967,33689.2152,11013.3741,0,34208.4381,16891.4361,0.2641],[9542.3134,5515.0245,4003.5663,5188.3198,16655.6807,13727.1331,8391.6304,14033.899,6802.6117,11048.3564,11312.3531,6802.1073,29028.8689,17289.2116,10448.9827,25514.7199],[11096.5743,5501.3207,6289.6389,6442.0693,17453.6311,17016.3867,14291.8363,18412.1052,1156.6917,1198.8608,0,5975.4361,24257.6438,13522.3287,4703.7403,14191.4473],[1404.042,2309.191,7630.9908,3012.0708,7109.5302,9112.7301,26660.5336,10558.0181,3714.402,2207.1901,9040.2591,3514.6613,540.9981,3013.1056,4266.0021,2203.8099],[2162.2206,2289.0957,5178.8961,411.5041,4521.0673,0,8445.175,5419.6749,1305.9889,494.6241,3528.4604,3444.8938,338.0545,0,1545.4557,1642.0252],[0,0,4098.9175,829.4188,0,1801.546,5390.3516,614.9057,959.028,98.0913,1644.6027,1708.0464,216.4752,1396.4508,2639.2963,0],],[[5703.6727,5970.2588,1136.0929,2222.2538,2861.2251,12441.2167,1009.7061,8669.0552,431.7844,10267.2378,5307.3465,1862.2001,0,1731.9738,578.4256,506.858],[1522.6441,2470.0879,1267.8285,8013.3787,1944.3731,2235.5245,5266.2054,2199.3659,0,6345.7979,1961.2876,1435.4744,2181.1461,7970.1791,0,14899.6156],[13892.7738,17811.4601,25172.8094,9414.047,14574.0099,12288.4299,33185.2671,17058.551,56656.6863,79251.6284,81736.0908,57091.3271,36922.3114,48436.749,31620.4218,35302.7522],[13601.9844,16564.8923,4633.2499,1545.2442,482.7743,5126.0313,5039.3313,0,4174.7452,8840.274,4030.575,4028.3306,2528.3325,3307.176,852.1341,1758.5271],[12794.3611,8253.497,15040.1953,9357.004,9340.8083,8235.6562,13542.9182,9427.0341,25202.2033,25707.3575,21903.0298,6984.3372,10750.7217,14445.1513,7878.2133,9274.7421],[932.6762,701.7146,113.8124,1422.1649,3407.018,2261.1215,7867.4965,990.213,331.4106,1590.2248,1272.2848,114.5805,0,574.3071,1197.0088,1745.5974],],[[22092.0856,12470.6198,1468.9565,9148.0644,65243.6629,20196.2265,23044.3696,39959.6694,111783.1804,23771.3444,14383.4391,84324.5041,162508.5098,88047.1787,26239.1741,156001.7524],[1340.1621,0,1324.6904,1243.1,3841.1474,1243.6823,7643.2979,3878.0518,2683.6963,4271.784,1366.7294,1361.0615,4136.3162,1449.6197,0,2700.968],[0,2652.5813,7950.9096,0,2618.5203,0,10019.92,3857.2078,1327.8865,3008.1152,13696.469,6473.7986,5748.6932,2459.3493,2401.7698,3741.5653],[0,0,1151.0779,0,0,1352.0385,4487.4685,0,0,0,0,0,0,0,0,0],[2685.6753,1223.4659,3643.3979,1299.9736,1166.05,1391.3158,3637.5109,1144.2129,1284.802,1452.588,2594.046,1378.1336,0,0,1344.5902,1191.8616],[0,0,0,0,0,0,1256.0652,0,0,1191.8929,0,0,0,0,0,0],],[[5461.0064,3209.8915,8240.0215,2128.5767,1002.818,4832.99,6027.2203,1889.4557,16144.3858,19149.0654,23839.7837,9310.5125,58.0322,0,1238.1512,0],[3436.5259,5032.1881,4554.4859,2219.7598,9024.3873,14673.2129,39906.1902,8069.3453,14928.5962,8864.314,12837.7514,21334.5417,10044.8204,11806.584,4441.9542,14237.9611],[8609.1499,7326.0899,26434.6529,11557.2114,15443.4963,27529.5727,66522.7797,21141.6439,4541.1112,19077.6922,42414.9382,24716.2875,6548.9485,15663.8835,19264.231,11710.2075],[0,0,467.3008,0,0,4133.4247,6170.1023,1332.8714,0,2889.4483,1237.288,1167.0892,0,287.1144,0.0002,0],[16456.2492,7860.4152,28585.4019,18764.968,8163.5601,8890.1383,54161.6251,18404.6871,6613.1859,19840.0569,45287.1344,16357.5221,3963.0194,9534.735,16171.0933,7233.8552],[1706.362,4532.4332,7641.1163,0,0,15030.3436,9573.0102,2337.4849,4542.252,7469.0327,17449.5781,2948.9258,0,3281.0486,3069.6961,0],],[[2150.8387,912.6013,0,0,2670.3685,9679.3188,5404.6117,9053.0112,3189.6459,1401.2494,2412.3751,2663.0997,0,0,226.5466,1635.261],[255.612,673.4879,134.7652,395.2994,835.9436,1346.2763,6039.5682,0,1383.6845,2001.0368,167.5147,1088.1449,125.3393,947.2372,2077.0173,911.4354],[8450.7193,5898.1453,247982.9788,7634.6099,2223.3347,8109.5733,189208.4849,4260.7263,25096.6871,14081.1975,220431.2301,10450.7047,1925.3768,0,94047.0838,1089.0239],[743.4492,0,1842.8942,0,0,1125.6846,2183.7586,728.3841,0,0,0,0,0,574.6082,0,0],[1758.0963,1967.5865,8740.4973,0,3707.2233,902.778,18505.6519,2571.6761,9378.4111,3865.6242,2860.664,5278.7162,4861.1481,3124.7054,9187.8408,3012.7066],[0,0,563.0655,661.1261,0,897.1685,3253.3908,992.6102,0,115.4899,2940.5664,625.2857,712.8967,720.6675,0,924.4571],],];
sig_data.dataset_sig_max = 247982.9788;
sig_data.route_id = ['AA','AC','AG','AT','CA','CC','CG','CT','GA','GC','GG','GT','TA','TC','TG','TT',];
sig_data.substitution = [{name: 'C > A', color: '#1BBDEB', route: ['ApCpA','ApCpC','ApCpG','ApCpT','CpCpA','CpCpC','CpCpG','CpCpT','GpCpA','GpCpC','GpCpG','GpCpT','TpCpA','TpCpC','TpCpG','TpCpT',],},{name: 'C > G', color: '#211D1E', route: ['ApCpA','ApCpC','ApCpG','ApCpT','CpCpA','CpCpC','CpCpG','CpCpT','GpCpA','GpCpC','GpCpG','GpCpT','TpCpA','TpCpC','TpCpG','TpCpT',],},{name: 'C > T', color: '#E62623', route: ['ApCpA','ApCpC','ApCpG','ApCpT','CpCpA','CpCpC','CpCpG','CpCpT','GpCpA','GpCpC','GpCpG','GpCpT','TpCpA','TpCpC','TpCpG','TpCpT',],},{name: 'T > A', color: '#CFCFCF', route: ['ApTpA','ApTpC','ApTpG','ApTpT','CpTpA','CpTpC','CpTpG','CpTpT','GpTpA','GpTpC','GpTpG','GpTpT','TpTpA','TpTpC','TpTpG','TpTpT',],},{name: 'T > C', color: '#ACD577', route: ['ApTpA','ApTpC','ApTpG','ApTpT','CpTpA','CpTpC','CpTpG','CpTpT','GpTpA','GpTpC','GpTpG','GpTpT','TpTpA','TpTpC','TpTpG','TpTpT',],},{name: 'T > G', color: '#EDC7C4', route: ['ApTpA','ApTpC','ApTpG','ApTpT','CpTpA','CpTpC','CpTpG','CpTpT','GpTpA','GpTpC','GpTpG','GpTpT','TpTpA','TpTpC','TpTpG','TpTpT',],},];
sig_data.Ids = ['TCGA-OR-A5J1','TCGA-OR-A5J2','TCGA-OR-A5J3','TCGA-OR-A5J4','TCGA-OR-A5J5','TCGA-OR-A5J6','TCGA-OR-A5J7','TCGA-OR-A5J8','TCGA-OR-A5J9','TCGA-OR-A5JA','TCGA-OR-A5JB','TCGA-OR-A5JC','TCGA-OR-A5JD','TCGA-OR-A5JE','TCGA-OR-A5JF','TCGA-OR-A5JG','TCGA-OR-A5JH','TCGA-OR-A5JI','TCGA-OR-A5JJ','TCGA-OR-A5JK','TCGA-OR-A5JL','TCGA-OR-A5JM','TCGA-OR-A5JO','TCGA-OR-A5JP','TCGA-OR-A5JQ','TCGA-OR-A5JR','TCGA-OR-A5JS','TCGA-OR-A5JT','TCGA-OR-A5JU','TCGA-OR-A5JV','TCGA-OR-A5JW','TCGA-OR-A5JX','TCGA-OR-A5JY','TCGA-OR-A5JZ','TCGA-OR-A5K0','TCGA-OR-A5K1','TCGA-OR-A5K2','TCGA-OR-A5K3','TCGA-OR-A5K4','TCGA-OR-A5K5','TCGA-OR-A5K6','TCGA-OR-A5K8','TCGA-OR-A5K9','TCGA-OR-A5KB','TCGA-OR-A5KO','TCGA-OR-A5KP','TCGA-OR-A5KQ','TCGA-OR-A5KS','TCGA-OR-A5KT','TCGA-OR-A5KU','TCGA-OR-A5KV','TCGA-OR-A5KW','TCGA-OR-A5KX','TCGA-OR-A5KY','TCGA-OR-A5KZ','TCGA-OR-A5L1','TCGA-OR-A5L2','TCGA-OR-A5L3','TCGA-OR-A5L4','TCGA-OR-A5L5','TCGA-OR-A5L6','TCGA-OR-A5L8','TCGA-OR-A5L9','TCGA-OR-A5LA','TCGA-OR-A5LB','TCGA-OR-A5LC','TCGA-OR-A5LD','TCGA-OR-A5LE','TCGA-OR-A5LF','TCGA-OR-A5LG','TCGA-OR-A5LH','TCGA-OR-A5LI','TCGA-OR-A5LJ','TCGA-OR-A5LK','TCGA-OR-A5LL','TCGA-OR-A5LN','TCGA-OR-A5LO','TCGA-OR-A5LP','TCGA-OR-A5LR','TCGA-OR-A5LS','TCGA-OR-A5LT','TCGA-OU-A5PI','TCGA-P6-A5OF','TCGA-P6-A5OH','TCGA-PA-A5YG','TCGA-PK-A5H8','TCGA-PK-A5H9','TCGA-PK-A5HA','TCGA-PK-A5HB','TCGA-PK-A5HC',];

// [ID, signature, value]
sig_data.mutations = [[0,0,0.000000],[0,1,0.393300],[0,2,0.026800],[0,3,0.000000],[0,4,0.294200],[0,5,0.285400],[1,0,0.072500],[1,1,0.327500],[1,2,0.097600],[1,3,0.359100],[1,4,0.143100],[1,5,0.000000],[2,0,0.098900],[2,1,0.000000],[2,2,0.072200],[2,3,0.670800],[2,4,0.157900],[2,5,0.000000],[3,0,0.243700],[3,1,0.124600],[3,2,0.077600],[3,3,0.275600],[3,4,0.039400],[3,5,0.238800],[4,0,0.000000],[4,1,0.000000],[4,2,0.005600],[4,3,0.000000],[4,4,0.994300],[4,5,0.000000],[5,0,0.069700],[5,1,0.000000],[5,2,0.000000],[5,3,0.805300],[5,4,0.124900],[5,5,0.000000],[6,0,0.079800],[6,1,0.081400],[6,2,0.075700],[6,3,0.432100],[6,4,0.182600],[6,5,0.148100],[7,0,0.096900],[7,1,0.100400],[7,2,0.307300],[7,3,0.433500],[7,4,0.009900],[7,5,0.051800],[8,0,0.089600],[8,1,0.089300],[8,2,0.024500],[8,3,0.596100],[8,4,0.149300],[8,5,0.051000],[9,0,0.000000],[9,1,0.000000],[9,2,1.000000],[9,3,0.000000],[9,4,0.000000],[9,5,0.000000],[10,0,0.627900],[10,1,0.194000],[10,2,0.082400],[10,3,0.075600],[10,4,0.019900],[10,5,0.000000],[11,0,0.113800],[11,1,0.192800],[11,2,0.028400],[11,3,0.631700],[11,4,0.033000],[11,5,0.000000],[12,0,0.002700],[12,1,0.250000],[12,2,0.054900],[12,3,0.531900],[12,4,0.050400],[12,5,0.109900],[13,0,0.098600],[13,1,0.000000],[13,2,0.045700],[13,3,0.623900],[13,4,0.092100],[13,5,0.139600],[14,0,0.076900],[14,1,0.074800],[14,2,0.046400],[14,3,0.614800],[14,4,0.019000],[14,5,0.167800],[15,0,0.063800],[15,1,0.038900],[15,2,0.020900],[15,3,0.815000],[15,4,0.061200],[15,5,0.000000],[16,0,0.178700],[16,1,0.000000],[16,2,0.059000],[16,3,0.759000],[16,4,0.003100],[16,5,0.000000],[17,0,0.000000],[17,1,0.088300],[17,2,0.000000],[17,3,0.596600],[17,4,0.112700],[17,5,0.202200],[18,0,0.000000],[18,1,0.128500],[18,2,0.002900],[18,3,0.639200],[18,4,0.108800],[18,5,0.120300],[19,0,0.122700],[19,1,0.000000],[19,2,0.006400],[19,3,0.666000],[19,4,0.124500],[19,5,0.080300],[20,0,0.046800],[20,1,0.168300],[20,2,0.000000],[20,3,0.688600],[20,4,0.096100],[20,5,0.000000],[21,0,0.033900],[21,1,0.106900],[21,2,0.069800],[21,3,0.686300],[21,4,0.069800],[21,5,0.033000],[22,0,0.099100],[22,1,0.000000],[22,2,0.029300],[22,3,0.862100],[22,4,0.009300],[22,5,0.000000],[23,0,0.095300],[23,1,0.063000],[23,2,0.073800],[23,3,0.638200],[23,4,0.078100],[23,5,0.051300],[24,0,0.069600],[24,1,0.172900],[24,2,0.029000],[24,3,0.602300],[24,4,0.122700],[24,5,0.003100],[25,0,0.000000],[25,1,0.188600],[25,2,0.000000],[25,3,0.639400],[25,4,0.101800],[25,5,0.070100],[26,0,0.000000],[26,1,0.123400],[26,2,0.026800],[26,3,0.786500],[26,4,0.063100],[26,5,0.000000],[27,0,0.275400],[27,1,0.148300],[27,2,0.000000],[27,3,0.509100],[27,4,0.063300],[27,5,0.003600],[28,0,0.008600],[28,1,0.000000],[28,2,0.059600],[28,3,0.790000],[28,4,0.081300],[28,5,0.060200],[29,0,0.132200],[29,1,0.122100],[29,2,0.073200],[29,3,0.551800],[29,4,0.120400],[29,5,0.000000],[30,0,0.066700],[30,1,0.046300],[30,2,0.047000],[30,3,0.563400],[30,4,0.103400],[30,5,0.173000],[31,0,0.086400],[31,1,0.198400],[31,2,0.018500],[31,3,0.474700],[31,4,0.146400],[31,5,0.075300],[32,0,0.181300],[32,1,0.279700],[32,2,0.066000],[32,3,0.337300],[32,4,0.087500],[32,5,0.048000],[33,0,0.044100],[33,1,0.084100],[33,2,0.000000],[33,3,0.791200],[33,4,0.080500],[33,5,0.000000],[34,0,0.247900],[34,1,0.098100],[34,2,0.025800],[34,3,0.554200],[34,4,0.045200],[34,5,0.028600],[35,0,0.118500],[35,1,0.116600],[35,2,0.000000],[35,3,0.705000],[35,4,0.052000],[35,5,0.007700],[36,0,0.132600],[36,1,0.019000],[36,2,0.025800],[36,3,0.676800],[36,4,0.058600],[36,5,0.086800],[37,0,0.061900],[37,1,0.002900],[37,2,0.009500],[37,3,0.736400],[37,4,0.121800],[37,5,0.067100],[38,0,0.000000],[38,1,0.093700],[38,2,0.007600],[38,3,0.052900],[38,4,0.845600],[38,5,0.000000],[39,0,0.095500],[39,1,0.198000],[39,2,0.067200],[39,3,0.377900],[39,4,0.055700],[39,5,0.205300],[40,0,0.125900],[40,1,0.010800],[40,2,0.047700],[40,3,0.708200],[40,4,0.057600],[40,5,0.049500],[41,0,0.069800],[41,1,0.090300],[41,2,0.041500],[41,3,0.643600],[41,4,0.069700],[41,5,0.084700],[42,0,0.041800],[42,1,0.221000],[42,2,0.072700],[42,3,0.461100],[42,4,0.075300],[42,5,0.127800],[43,0,0.751200],[43,1,0.065600],[43,2,0.170300],[43,3,0.000000],[43,4,0.000000],[43,5,0.012700],[44,0,0.136400],[44,1,0.079900],[44,2,0.057400],[44,3,0.561700],[44,4,0.164300],[44,5,0.000000],[45,0,0.089100],[45,1,0.176600],[45,2,0.036600],[45,3,0.564100],[45,4,0.108100],[45,5,0.025200],[46,0,0.000000],[46,1,0.033100],[46,2,0.037700],[46,3,0.758300],[46,4,0.135900],[46,5,0.034800],[47,0,0.000000],[47,1,0.195800],[47,2,0.000000],[47,3,0.644300],[47,4,0.118400],[47,5,0.041300],[48,0,0.144800],[48,1,0.296300],[48,2,0.038500],[48,3,0.448000],[48,4,0.072100],[48,5,0.000000],[49,0,0.104200],[49,1,0.024300],[49,2,0.029500],[49,3,0.603500],[49,4,0.209600],[49,5,0.028600],[50,0,0.039200],[50,1,0.019200],[50,2,0.062000],[50,3,0.685500],[50,4,0.085200],[50,5,0.108700],[51,0,0.143900],[51,1,0.173000],[51,2,0.044200],[51,3,0.602000],[51,4,0.036700],[51,5,0.000000],[52,0,0.059800],[52,1,0.202400],[52,2,0.000000],[52,3,0.268000],[52,4,0.266300],[52,5,0.203300],[53,0,0.123600],[53,1,0.095500],[53,2,0.037100],[53,3,0.682700],[53,4,0.060800],[53,5,0.000000],[54,0,0.014100],[54,1,0.100700],[54,2,0.100500],[54,3,0.665800],[54,4,0.045400],[54,5,0.073200],[55,0,0.067500],[55,1,0.220900],[55,2,0.068500],[55,3,0.524000],[55,4,0.045700],[55,5,0.073200],[56,0,0.167800],[56,1,0.115500],[56,2,0.072700],[56,3,0.338300],[56,4,0.151700],[56,5,0.153600],[57,0,0.000000],[57,1,0.092000],[57,2,0.000000],[57,3,0.649000],[57,4,0.153000],[57,5,0.105700],[58,0,0.245700],[58,1,0.000000],[58,2,0.086700],[58,3,0.602000],[58,4,0.065400],[58,5,0.000000],[59,0,0.084000],[59,1,0.228000],[59,2,0.023500],[59,3,0.611100],[59,4,0.053200],[59,5,0.000000],[60,0,0.105100],[60,1,0.000000],[60,2,0.032400],[60,3,0.703300],[60,4,0.129200],[60,5,0.029700],[61,0,0.043000],[61,1,0.028200],[61,2,0.000000],[61,3,0.538500],[61,4,0.237100],[61,5,0.153000],[62,0,0.014000],[62,1,0.000000],[62,2,0.057800],[62,3,0.831500],[62,4,0.049400],[62,5,0.047000],[63,0,0.000000],[63,1,0.000000],[63,2,0.083800],[63,3,0.529300],[63,4,0.296300],[63,5,0.090400],[64,0,0.034800],[64,1,0.268300],[64,2,0.063900],[64,3,0.029700],[64,4,0.568300],[64,5,0.034500],[65,0,0.262500],[65,1,0.162300],[65,2,0.020800],[65,3,0.386900],[65,4,0.167300],[65,5,0.000000],[66,0,0.055900],[66,1,0.119300],[66,2,0.000000],[66,3,0.431600],[66,4,0.095800],[66,5,0.297200],[67,0,0.060200],[67,1,0.075700],[67,2,0.000000],[67,3,0.745500],[67,4,0.118400],[67,5,0.000000],[68,0,0.053800],[68,1,0.027900],[68,2,0.000000],[68,3,0.890100],[68,4,0.028100],[68,5,0.000000],[69,0,0.048300],[69,1,0.024600],[69,2,0.032900],[69,3,0.875700],[69,4,0.018300],[69,5,0.000000],[70,0,0.058300],[70,1,0.000000],[70,2,0.030200],[70,3,0.626400],[70,4,0.111300],[70,5,0.173500],[71,0,0.000000],[71,1,0.110300],[71,2,0.020600],[71,3,0.839200],[71,4,0.029700],[71,5,0.000000],[72,0,0.021800],[72,1,0.112500],[72,2,0.026600],[72,3,0.071500],[72,4,0.750100],[72,5,0.017200],[73,0,0.198900],[73,1,0.035500],[73,2,0.015200],[73,3,0.582900],[73,4,0.167300],[73,5,0.000000],[74,0,0.214800],[74,1,0.424500],[74,2,0.007300],[74,3,0.079400],[74,4,0.112100],[74,5,0.161600],[75,0,0.133100],[75,1,0.000000],[75,2,0.000000],[75,3,0.773300],[75,4,0.093400],[75,5,0.000000],[76,0,0.230600],[76,1,0.148600],[76,2,0.062200],[76,3,0.491700],[76,4,0.052200],[76,5,0.014400],[77,0,0.072000],[77,1,0.070700],[77,2,0.025800],[77,3,0.513000],[77,4,0.192600],[77,5,0.125600],[78,0,0.000000],[78,1,0.028700],[78,2,0.019100],[78,3,0.657900],[78,4,0.144300],[78,5,0.149700],[79,0,0.076000],[79,1,0.000000],[79,2,0.017700],[79,3,0.860400],[79,4,0.000000],[79,5,0.045700],[80,0,0.156400],[80,1,0.000000],[80,2,0.032000],[80,3,0.619900],[80,4,0.153400],[80,5,0.038100],[81,0,0.062200],[81,1,0.000000],[81,2,0.057400],[81,3,0.651000],[81,4,0.112700],[81,5,0.116400],[82,0,0.171600],[82,1,0.243300],[82,2,0.035300],[82,3,0.450900],[82,4,0.059400],[82,5,0.039200],[83,0,0.135400],[83,1,0.171800],[83,2,0.039900],[83,3,0.349900],[83,4,0.087900],[83,5,0.214700],[84,0,0.005500],[84,1,0.342700],[84,2,0.150000],[84,3,0.038700],[84,4,0.178900],[84,5,0.283800],[85,0,0.108000],[85,1,0.077600],[85,2,0.082600],[85,3,0.506500],[85,4,0.094300],[85,5,0.130700],[86,0,0.096500],[86,1,0.000000],[86,2,0.015900],[86,3,0.797200],[86,4,0.012600],[86,5,0.077500],[87,0,0.087400],[87,1,0.254400],[87,2,0.076800],[87,3,0.445500],[87,4,0.135600],[87,5,0.000000],[88,0,0.000000],[88,1,0.906800],[88,2,0.032400],[88,3,0.000000],[88,4,0.000000],[88,5,0.060600],[89,0,0.145800],[89,1,0.140200],[89,2,0.095500],[89,3,0.581000],[89,4,0.000000],[89,5,0.037300],];

sig_data.esc_Ids = [];
for (var i=0; i < sig_data.Ids.length; i++) {
    sig_data.esc_Ids[i] = 'Key' + i;
}

function tooltip_text(format, obj) {
    var tooltip = [];
    for (var t in format.format) {
        tooltip.push(utils.text_format(format.format[t], obj));
    }
    return tooltip;
};

sig_data.get_data_par_signature = function (signature_id) {
    
    var tooltips = [];

    // par change
    for (var i=0; i < sig_data.substitution.length; i++) {
        
        var sum = 0;
        
        var obj = {
            'sig': sig_data.substitution[i].name,
        };
        tooltips[i] = [];
        segment_index = -1;
        for (var j=0; j < sig_data.dataset_sig[signature_id][i].length; j++) {
            if (j%16 == 0) {
                segment_index += 1;
                tooltips[i][segment_index] = [];
            }
            obj['route'] = sig_data.substitution[i].route[j];
            obj['#sum_item_value'] = sig_data.dataset_sig[signature_id][i][j];
            
            tooltips[i][segment_index].push(tooltip_text(sig_data.tooltip_format['signature_partial'], obj));
            sum += sig_data.dataset_sig[signature_id][i][j];
        }
        
        obj['#sum_group_value'] = sum;
        
        title = tooltip_text(sig_data.tooltip_format['signature_title'], obj);
        for (var s = 0; s < tooltips[i].length; s++) {
            for (var t = 0; t < title.length; t++) {
                tooltips[i][s].splice(t, 0, title[t]);
            }
        }
    }
    
    return {data: sig_data.dataset_sig[signature_id], tooltip: tooltips};
};

sig_data.get_bars_data = function () {
    
    var data = [];
    var keys = [];
    var tooltips = {};
    var sum_par_id = [];
    for (var i=0; i < sig_data.Ids.length; i++) {
        tooltips[sig_data.esc_Ids[i]] = [];
        sum_par_id[i] = 0;
    }
    
    // par func
    for (var f=0; f < sig_data.signatures.length; f++) {

        data[f] = [];
        keys[f] = [];

        // par ID
        for (var i=0; i < sig_data.Ids.length; i++) {
            
            var data_filt = sig_data.mutations.filter(function(item, index){
                if ((item[0] == i) && (item[1] == f)) return true;
            });
            
            //var sum = data_filt.length;
            var sum = 0;
            for (var s = 0; s < data_filt.length; s++) {
                sum += data_filt[s][2];
            }
            
            if (sum > 0) {
                data[f].push(sum);
                keys[f].push(sig_data.esc_Ids[i]);
                
                var obj = {
                    '#sum_mutaion_all': sig_data.mutations.length,
                    '#sum_item_value': sum,
                    'id': sig_data.Ids[i],
                    'sig': sig_data.signatures[f],
                };
                tooltips[sig_data.esc_Ids[i]].push(tooltip_text(sig_data.tooltip_format["mutation_partial"], obj));
                sum_par_id[i] += sum;
            }
        }
    }
    for (var i=0; i < sig_data.Ids.length; i++) {
        var obj = {
            '#sum_mutaion_all': sig_data.mutations.length,
            '#sum_item_value': sum_par_id[i],
            'id': sig_data.Ids[i],
        };
        
        title = tooltip_text(sig_data.tooltip_format["mutation_title"], obj);
        for (var t = 0; t < title.length; t++) {
            tooltips[sig_data.esc_Ids[i]].splice(t, 0, title[t]);
        }
    }
    
    return {data: data, key: keys, tooltip: tooltips};
};
})();
Object.freeze(sig_data);

